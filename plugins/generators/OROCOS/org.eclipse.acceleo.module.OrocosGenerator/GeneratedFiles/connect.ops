//-----import package-----
import("RobotMLModel") 
//-----chargement des composants-----
loadComponent("Navigation","RobotMLModel::Navigation")

//-----setting components activities-----
var double period = 1.0; //in seconds, period of the activity (0.0 if non periodic)
var int priority = LowestPriority; //LowestPriority = 1, HighestPriority = 99
var int scheduler = ORO_SCHED_OTHER; // ORO_SCHED_OTHER = 0, ORO_SCHED_RT = 1
setActivity("Navigation", period, priority, scheduler)

//-----setting connections between components-----
connectPeers("Navigation", "RobotMLModel/Infrared") 	
connectPeers("Navigation", "Wheels") 	

//-----connecting ports-----
var ConnPolicy cp_Navigation_leftSensorPort;
cp_Navigation_leftSensorPort.type = DATA; //DATA = 0, BUFFER = 1
cp_Navigation_leftSensorPort.size = 1; //size of the buffer
cp_Navigation_leftSensorPort.lock_policy = LOCK_FREE; //UNSYNC = 0, LOCKED = 1, LOCK_FREE = 2
cp_Navigation_leftSensorPort.transport = 3; //ROS = 3
cp_NavigationleftSensorPort.name_id = "Infrared";
stream("Navigation.leftSensorPort",cp_Navigation.leftSensorPort)							
var ConnPolicy cp_Navigation_NavOutport;
cp_Navigation_NavOutport.type = DATA; //DATA = 0, BUFFER = 1
cp_Navigation_NavOutport.size = 1; //size of the buffer
cp_Navigation_NavOutport.lock_policy = LOCK_FREE; //UNSYNC = 0, LOCKED = 1, LOCK_FREE = 2
cp_Navigation_NavOutport.transport = 3; //ROS = 3
cp_NavigationNavOutport.name_id = "Wheels";
stream("Navigation.NavOutport",cp_Navigation.NavOutport)							
var ConnPolicy cp_Navigation_rightSensorPort;
cp_Navigation_rightSensorPort.type = DATA; //DATA = 0, BUFFER = 1
cp_Navigation_rightSensorPort.size = 1; //size of the buffer
cp_Navigation_rightSensorPort.lock_policy = LOCK_FREE; //UNSYNC = 0, LOCKED = 1, LOCK_FREE = 2
cp_Navigation_rightSensorPort.transport = 3; //ROS = 3
cp_NavigationrightSensorPort.name_id = "Infrared";
stream("Navigation.rightSensorPort",cp_Navigation.rightSensorPort)							


//-----configurating components-----
Navigation.configure()

#configureComponents()

//-----starting components-----
Navigation.start()
#startComponents()
